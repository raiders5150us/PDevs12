
@{
    ViewBag.Title = "Test Script Details";

    int storyId = ViewBag.StoryId ?? 0;
    int testScriptId = ViewBag.TestScriptId ?? 0;
}

@Html.Hidden("MainStoryId", storyId)
@Html.Hidden("MainTestScriptId", testScriptId)


<div class="container-fluid">
    <div class="row bg-w p-15">
        <div class="d-flex v-center h-space-between">
            <h3 class="d-flex v-center">
                <label>@ViewBag.Title</label>
            </h3>
            <a id="one-click-approval-btn" role="button" class="btn btn-success btn-sm pull-right hide" data-test-script-id="@testScriptId" data-story-id="@storyId" t-data-project-id>
                <i class="fa fa-check m-r-10"></i> One Click Approval
            </a>
            <a role="button" class="btn dv-btn-success btn-sm pull-right" ap-action-test-script-modal-form data-test-script-id="@testScriptId" data-story-id="@storyId" t-data-project-id>
                <i class="fa fa-pencil m-r-10"></i> Edit Test Script
            </a>
        </div>
        <hr class="m-y-10" />
        <div class="d-flex v-center h-space-between">
            <table class="table devs-table" style="width:100%">
                <tr>
                    <td>
                        <b>Project: </b>
                    </td>
                    <td>
                        <span t-project-name>Project Name</span>
                    </td>
                    <td>
                        <b>Created by: </b>
                    </td>
                    <td>
                        <span t-created-by-user>Created by User Name</span>
                    </td>
                    <td colspan="2" rowspan="3">
                        <table class="table table-bordered devs-table" id="tblTestScriptRoleStatuses" style="width:100%">
                            <thead>
                                <tr>
                                    <th class="col-lg-3">Role</th>
                                    <th class="col-lg-3">Name</th>
                                    <th class="col-lg-6" colspan="3" align="center" style="text-align:center">Test Script Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Developer</strong></td>
                                    <td>
                                        <span t-assigned-to-developer>Assigned to Developer Name</span>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio1">Requested</label>
                                            <input class="form-check-input test-script-status-requested" type="radio" name="test-script-developer-status" id="inlineRadio1" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio2">Pass</label>
                                            <input class="form-check-input test-script-status-pass" type="radio" name="test-script-developer-status" id="inlineRadio2" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio3">Fail</label>
                                            <input class="form-check-input test-script-status-fail" type="radio" name="test-script-developer-status" id="inlineRadio3" value="">
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Dev Mgr</strong></td>
                                    <td><span t-assigned-to-dev-mgr>Assigned to Dev Mgr Name</span></td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio4">Requested</label>
                                            <input class="form-check-input test-script-status-requested" type="radio" name="test-script-devmgr-status" id="inlineRadio4" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio5">Pass</label>
                                            <input class="form-check-input test-script-status-pass" type="radio" name="test-script-devmgr-status" id="inlineRadio5" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio6">Fail</label>
                                            <input class="form-check-input test-script-status-fail" type="radio" name="test-script-devmgr-status" id="inlineRadio6" value="">
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Biz Analyst</strong></td>
                                    <td> <span t-assigned-to-biz-analyst>Assigned to Biz Analyst Name</span></td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio7">Requested</label>
                                            <input class="form-check-input test-script-status-requested" type="radio" name="test-script-bizanalyst-status" id="inlineRadio7" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio8">Pass</label>
                                            <input class="form-check-input test-script-status-pass" type="radio" name="test-script-bizanalyst-status" id="inlineRadio8" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio9">Fail</label>
                                            <input class="form-check-input test-script-status-fail" type="radio" name="test-script-bizanalyst-status" id="inlineRadio9" value="">

                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Biz Requester</strong></td>
                                    <td> <span t-assigned-to-biz-requester>Assigned to Biz Requester Name</span></td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio10">Requested</label>
                                            <input class="form-check-input test-script-status-requested" type="radio" name="test-script-bizrequester-status" id="inlineRadio10" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio11">Pass</label>
                                            <input class="form-check-input test-script-status-pass" type="radio" name="test-script-bizrequester-status" id="inlineRadio11" value="">
                                        </div>
                                    </td>
                                    <td>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" for="inlineRadio12">Fail</label>
                                            <input class="form-check-input test-script-status-fail" type="radio" name="test-script-bizrequester-status" id="inlineRadio12" value="">
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>

                    @*<td class="modified-field">
                        <b>Last Modified by: </b>
                    </td>
                    <td class="modified-field">
                        <span t-modified-by-user>Modified by User Name</span>
                    </td>*@
                </tr>
                <tr>
                    <td>
                        <b>Request date: </b>
                    </td>
                    <td>
                        <span t-request-date>Request Date</span>
                    </td>
                    <td>
                        <b>Requested by date: </b>
                    </td>
                    <td>
                        <span t-requested-by-date>Requested by Date</span>
                    </td>

                    @*<td class="modified-field">
                        <b>Last Modified on: </b>
                    </td>
                    <td class="modified-field">
                        <span t-modified-date>Last modified on</span>
                    </td>*@
                </tr>
                <tr>
                    <td>
                        <b>Story : </b>
                    </td>
                    <td colspan="3">
                        <span t-user-story>User Story</span>
                    </td>
                </tr>

                @*<tr>
                    <td>
                        <b>Story : </b>
                    </td>
                    <td colspan="11">
                        <span t-user-story>User Story</span>
                    </td>
                </tr>*@
            </table>


        </div>
        
        <hr class="m-y-10" />

        <div class="d-flex v-center h-space-between">
            <h4 class="d-flex v-center">
                <label>Steps</label>
            </h4>
            <a role="button" class="btn dv-btn-success btn-sm pull-right" ap-action-test-script-step-modal-form data-test-script-id="@testScriptId" data-step-id="0">
                <i class="fa fa-plus m-r-10"></i> Create Test Script Step
            </a>
        </div>
        <hr class="m-y-10" />

        <table id="test-script-steps-table" class="table table-striped table-bordered devs-table" style="width:100%">
            <thead>
                <tr>
                    <th class="text-center">#</th>
                    <th>Action Steps</th>
                    <th>Expected Result</th>
                    <th class="text-center">Status</th>
                    <th>Notes</th>
                    <th class="text-center">Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <div class="clearfix"></div>
        
        <div class="d-flex v-center h-space-between">
            <h3 class="d-flex v-center"></h3>            
            <a role="button" class="btn dv-btn-success btn-sm pull-right" style="display:none;" ap-action-test-script-save-steps data-test-script-id="@testScriptId" data-story-id="@storyId" t-data-project-id>
                <i class="fa fa-save m-r-10"></i> Save Steps
            </a>
        </div>
    </div>
</div>

@{
    Html.RenderPartial("Modals/_SaveTestScriptModalPartial", new PartialModel { StoryId = storyId });
    Html.RenderPartial("Modals/_SaveTestScriptStepModalPartial", new PartialModel { StoryId = storyId, TestScriptId = testScriptId });
}

@section scripts{
    <script src="~/Scripts/js/TestScriptService.js"></script>
    <script src="~/Scripts/js/TestScriptDetails.js"></script>
}



